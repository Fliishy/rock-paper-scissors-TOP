<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="style.css">
    
    <title>Rock, Paper, Scissors</title>
    
    <body>

      <h1> Rock-Paper-Scissors </h1>

      <!--buttons for rock paper scissors inside a container-->
      <div id="buttonBox">
        <button class="button" id="rockButton"><img src="images/rock.svg" alt="rock"></button>
        <button class="button" id="paperButton"><img src="images/paper.svg" alt="paper"></button>
        <button class="button" id="scissorsButton"><img src="images/scissors.svg" alt="scissors"></button>
    </div>

      <!--This is the container for the winner text and scores-->
      <div id="container"></div>

    </body>
    
    <script>

      // This randomly selects rock, paper, scissors for the computer
      function computerPlay() {
        let computerChoice = Math.floor(Math.random() * 3 + 1);

        if (computerChoice === 1) {
          computerChoice = 'rock';
          return computerChoice;
      }
        else if (computerChoice === 2) {
          computerChoice = 'paper';
          return computerChoice;
        }
        else {
          computerChoice = 'scissors';
          return computerChoice;
        }
      }

      // This is the functionality for when a button is clicked to choose r/p/s
      const rockButton = document.querySelector("#rockButton");
      rockButton.addEventListener('click', () => {
        playerChoice = "rock";
        playRound();
      });

      const paperButton = document.querySelector("#paperButton");
      paperButton.addEventListener('click', () => {
        playerChoice = "paper";
        playRound();
      });

      const scissorsButton = document.querySelector("#scissorsButton");
      scissorsButton.addEventListener('click', () => {
        playerChoice = "scissors";
        playRound();
      });

      let computerSelection = '';
      let playerScore = 0;
      let computerScore = 0;

      // Game function that checks what player did vs what computer did
      // answers are compared and +1 score is added when someone wins
      function playRound(playerSelection, computerSelection) {
        playerSelection = playerChoice;
        computerSelection = computerPlay();

        if (playerSelection === 'rock' && computerSelection === 'paper') {
          result.textContent = "Paper beats rock! Computer wins!";
          computerScore += 1;
          scores.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
        }
        else if (playerSelection === 'paper' && computerSelection === 'rock') {
          result.textContent = "Paper beats rock! Player wins!";
          playerScore += 1;
          scores.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
        }
        else if (playerSelection === 'scissors' && computerSelection === 'rock') {
          result.textContent = "Rock beats scissors! Computer wins!";
          computerScore += 1;
          scores.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
        }
        else if (playerSelection === 'rock' && computerSelection === 'scissors') {
          result.textContent = "Rock beats scissors! Player wins!";
          playerScore += 1;
          scores.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
        }
        else if (playerSelection === 'paper' && computerSelection === 'scissors') {
          result.textContent = "Scissors beats paper! Computer wins!";
          computerScore += 1;
          scores.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
        }
        
        else if (playerSelection === 'scissors' && computerSelection === 'paper') {
          result.textContent = "Scissors beats paper! Player wins!";
          playerScore += 1;
          scores.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
        }
        else {
          result.textContent = "Tie Game!";
        }

        // if a score reaches 5, text appears and the scores are reset

        if (computerScore === 5) {
          result.textContent = "Game over! Computer wins!";
          computerScore = 0;
          playerScore = 0;
          scores.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
        }

        else if (playerScore === 5) {
          result.textContent = "Game over! Player wins!";
          computerScore = 0;
          playerScore = 0;
          scores.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
        }
      }

      // these are the containers for the victory text and scores
      const container = document.querySelector('#container');

      const result = document.createElement('div');
      result.classList.add('textResult');
      result.textContent = 'Game Start!';
      container.appendChild(result);

      const scores = document.createElement('div');
      scores.classList.add('textScores');
      scores.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
      container.appendChild(scores);

   </script>
   
</html>
